models:
  - name: stg_ecommerce__order_items
    description: ""
    columns:
      - name: order_item_id
        description: "Line items from orders"
        tests:
            - primary_key:
                severity: error
            

      - name: order_id
        tests:
            - relationships:
                to: ref('stg_ecommerce__orders')
                field: order_id

      - name: user_id
        tests:
            - not_null

      - name: product_id
        tests:
            - not_null
            - relationships:
                to: ref('stg_ecommerce__products')
                field: product_id


      - name: item_sale_price
        description: "How much the item is sold for"
        tests:
            - not_null
            - dbt_expectations.expect_column_values_to_be_between:
                min_value: 0